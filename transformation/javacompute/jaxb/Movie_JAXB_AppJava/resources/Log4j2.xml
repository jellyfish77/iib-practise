<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="WARN" monitorInterval="30">
 
    <!-- Logging Properties -->
    <Properties>
        <Property name="LOG_PATTERN">%d{yyyy-MM-dd'T'HH:mm:ss.SSSZ} %logger{36} %t %p %msg%n</Property>        
        <Property name="APP_LOG_ROOT">/home/otto/logs/iib/log4j2</Property>
    </Properties>
     
    <Appenders>
     
        <!-- Console Appender -->
        <Console name="Console" target="SYSTEM_OUT" follow="true">
            <PatternLayout pattern="${LOG_PATTERN}"/>
        </Console>
        
        <RollingFile name="computeLog" fileName="${APP_LOG_ROOT}/log4j2-compute.log"
            filePattern="${APP_LOG_ROOT}/log4j2-compute-%d{yyyy-MM-dd}-%i.log" >
            <PatternLayout pattern="${LOG_PATTERN}"/>
            <Policies>
                <SizeBasedTriggeringPolicy size="19500KB" />
            </Policies>
            <DefaultRolloverStrategy max="1"/>
        </RollingFile>
         
    </Appenders>
 
    <Loggers>
                         
        <Root level="trace">
            <AppenderRef ref="Console" level="trace"/>
            <AppenderRef ref="computeLog" level="trace"/>            
        </Root>
 
    </Loggers>
 
</Configuration>